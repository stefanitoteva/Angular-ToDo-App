<div class="container-fluid">
  <div class="row">
    <div class="col-md-3">
      <div>
        <mat-card class="mt-3">
          <form class="form-fields" [formGroup]="todoForm">
            <mat-form-field appearance="fill">
              <mat-label>Task Name</mat-label>
              <input formControlName="name" matInput />
            </mat-form-field>
            <mat-form-field>
              <mat-label>Task Description</mat-label>
              <textarea formControlName="description" matInput></textarea>
            </mat-form-field>
            <mat-form-field class="formField">
              <mat-label>Category</mat-label>
              <mat-select #category>
                <mat-option value="toDo">To Do</mat-option>
                <mat-option value="inProgress">In Progress</mat-option>
                <mat-option value="done">Done</mat-option>
              </mat-select>
            </mat-form-field>
            <div class="btns">
              <button
                mat-raised-button
                color="accent"
                id="saveBtn"
                (click)="
                  onSave(
                    todoForm.value.name,
                    todoForm.value.description,
                    category.value
                  )
                "
              >
                Save
              </button>
              <button mat-raised-button color="accent" id="cancelBtn">
                Cancel
              </button>
            </div>
          </form>
        </mat-card>
      </div>
    </div>
    <div class="col-md-9">
      <div cdkDropListGroup>
        <div class="row">
          <div class="col-md-4">
            <div class="example-container">
              <h2>To do</h2>

              <cdk-accordion
                cdkDropList
                [cdkDropListData]="tasks"
                class="example-list"
                (cdkDropListDropped)="drop($event)"
              >
                <cdk-accordion-item
                  #accordionItem="cdkAccordionItem"
                  *ngFor="let item of tasks; let index=index"
                  class="example-accordion-item"
                  role="button"
                  tabindex="0"
                  [attr.id]="'accordion-header-' + index"
                  [attr.aria-expanded]="accordionItem.expanded"
                  [attr.aria-controls]="'accordion-body-' + index"
                  class="example-box"
                  cdkDrag
                >
                  <div
                    class="example-accordion-item-header"
                    (click)="accordionItem.toggle()"
                  >
                    {{ item.name }}
                    <span class="example-accordion-item-description">
                    {{ accordionItem.expanded ? "Hide Details" : "Show details" }}
                    </span>
                  </div>
                  <div
                    class="example-accordion-item-body"
                    role="region"
                    [style.display]="accordionItem.expanded ? '' : 'none'"
                    [attr.id]="'accordion-body-' + index"
                    [attr.aria-labelledby]="'accordion-header-' + index"
                  >
                    {{item.description}}
                  </div>
                </cdk-accordion-item>
              </cdk-accordion>
            </div>
          </div>
          <div class="col-md-4">
            <div class="example-container">
              <h2>In Progress</h2>
              <cdk-accordion
              cdkDropList
              [cdkDropListData]="inProgress"
              class="example-list"
              (cdkDropListDropped)="drop($event)"
            >
              <cdk-accordion-item
                #accordionItem="cdkAccordionItem"
                *ngFor="let item of inProgress; let index=index"
                class="example-accordion-item"
                role="button"
                tabindex="0"
                [attr.id]="'accordion-header-' + index"
                [attr.aria-expanded]="accordionItem.expanded"
                [attr.aria-controls]="'accordion-body-' + index"
                class="example-box"
                cdkDrag
              >
                <div
                  class="example-accordion-item-header"
                  (click)="accordionItem.toggle()"
                >
                  {{ item.name }}
                  <span class="example-accordion-item-description">
                  {{ accordionItem.expanded ? "Hide Details" : "Show details" }}
                  </span>
                </div>
                <div
                  class="example-accordion-item-body"
                  role="region"
                  [style.display]="accordionItem.expanded ? '' : 'none'"
                  [attr.id]="'accordion-body-' + index"
                  [attr.aria-labelledby]="'accordion-header-' + index"
                >
                  {{item.description}}
                </div>
              </cdk-accordion-item>
            </cdk-accordion>
            </div>
          </div>
          <div class="col-md-4">
            <div class="example-container">
              <h2>Done</h2>
              <cdk-accordion
              cdkDropList
              [cdkDropListData]="done"
              class="example-list"
              (cdkDropListDropped)="drop($event)"
            >
              <cdk-accordion-item
                #accordionItem="cdkAccordionItem"
                *ngFor="let item of done; let index=index"
                class="example-accordion-item"
                role="button"
                tabindex="0"
                [attr.id]="'accordion-header-' + index"
                [attr.aria-expanded]="accordionItem.expanded"
                [attr.aria-controls]="'accordion-body-' + index"
                class="example-box"
                cdkDrag
              >
                <div
                  class="example-accordion-item-header"
                  (click)="accordionItem.toggle()"
                >
                  {{ item.name }}
                  <span class="example-accordion-item-description">
                  {{ accordionItem.expanded ? "Hide Details" : "Show details" }}
                  </span>
                </div>
                <div
                  class="example-accordion-item-body"
                  role="region"
                  [style.display]="accordionItem.expanded ? '' : 'none'"
                  [attr.id]="'accordion-body-' + index"
                  [attr.aria-labelledby]="'accordion-header-' + index"
                >
                  {{item.description}}
                </div>
              </cdk-accordion-item>
            </cdk-accordion>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
